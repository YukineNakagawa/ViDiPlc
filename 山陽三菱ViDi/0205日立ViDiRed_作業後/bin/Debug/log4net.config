<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <log4net>

    <appender name="DailyAppender" type="log4net.Appender.RollingFileAppender" >
      <!--　ログファイルの出力先　相対パスで実行フォルダ内のlogフォルダに出力する　フォルダが存在しない場合は新しく作成される　-->
      <File value="log\" />
      <!--　ファイル名の日付形式　-->
      <DatePattern value='yyyyMMdd".log"' />
      <!--　ファイル名を固定するかどうか　今回は固定しない設定　-->
      <StaticLogFileName value="false" />
      <!--　ログファイルを切り替える date:日付ごと　size:容量ごと　composite:日付と容量の両方　-->
      <RollingStyle value="composite" />
      <!--　ログファイルへの追記をするか　falseで上書きになる　-->
      <AppendToFile value="true" />
      <!--　500MBを超えると新しいログファイルを作成する　RollingStyleがsizeの時に有効　-->
      <!--　ログは1行あたり100Byte程度なので、500MBのログファイルは500万行程度 -->
      <MaximumFileSize value="10MB" />
      <!--　保存ファイルの最大値　-->
      <MaxSizeRollBackups value="20" />
      <!--ログ形式の定義　ログ解析のしやすさも考慮する -->
      <layout type="log4net.Layout.PatternLayout">
        <!-- 2020/5/15 時刻の出力形式をhh:mm:ss(12h)からHH:mm:ss(24h)に変更した -->
        <ConversionPattern value="%level, %d{yy-MM-dd HH:mm:ss}, %class, %method, %line, %message %n" />
      </layout>
      <!--　ログレベルでフィルタリングする　DEBUG < INFO < WARN < ERROR < FATAL　-->
      <filter type="log4net.Filter.LevelRangeFilter">
        <LevelMax value="FATAL" />
        <LevelMin value="ERROR" />
      </filter>
    </appender>

    <root>
      <!--　出力ログレベル　-->
      <level value="ERROR" />
      <appender-ref ref="DailyAppender" />
    </root>

  </log4net>
</configuration>